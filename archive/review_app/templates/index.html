{% extends "base.html" %}

{% block content %}
<h2 style="margin-bottom: 20px;">Overview</h2>
<div class="stats">
    <div class="stat-card">
        <div class="stat-value">{{ total_photos|number_format }}</div>
        <div class="stat-label">Total Photos in Groups</div>
    </div>
    <div class="stat-card" style="background: #e8f5e9;">
        <div class="stat-value" style="color: #2e7d32;">{{ rejected_count|number_format }}</div>
        <div class="stat-label">Rejected</div>
    </div>
    <div class="stat-card" style="background: #e8f5e9;">
        <div class="stat-value" style="color: #2e7d32;">{{ resolved_groups|number_format }}</div>
        <div class="stat-label">Groups Resolved</div>
    </div>
    <div class="stat-card" style="background: #fff3e0;">
        <div class="stat-value" style="color: #e65100;">{{ groups_needing_review|number_format }}</div>
        <div class="stat-label">Groups Need Review</div>
    </div>
</div>

<div style="margin: 30px 0;">
    <a href="/groups" class="btn">Review {{ groups_needing_review|number_format }} Groups ({{ photos_needing_review|number_format }} photos)</a>
</div>

{% if size_dist %}
<h2 style="margin-top: 40px; margin-bottom: 20px;">Groups Needing Review by Size</h2>
<div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="border-bottom: 2px solid #ddd;">
                <th style="padding: 10px; text-align: left;">Photos in Group</th>
                <th style="padding: 10px; text-align: right;">Number of Groups</th>
                <th style="padding: 10px; text-align: right;">Total Photos</th>
            </tr>
        </thead>
        <tbody>
            {% for row in size_dist %}
            <tr style="border-bottom: 1px solid #eee;">
                <td style="padding: 10px;">{{ row['remaining_photos'] }} photos</td>
                <td style="padding: 10px; text-align: right;">{{ row['count']|number_format }}</td>
                <td style="padding: 10px; text-align: right;">{{ (row['remaining_photos'] * row['count'])|number_format }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}
{% endblock %}
